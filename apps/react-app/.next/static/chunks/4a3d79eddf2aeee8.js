(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97277,e=>{"use strict";var t=e.i(43476),i=e.i(71645),n=i,r=Object.defineProperty,a=(e,t,i)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i};let h={x:0,y:0,width:0,height:0,unit:"px"},o=(e,t,i)=>Math.min(Math.max(e,t),i),s=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function d(e,t,i){return"%"===e.unit?{...h,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/i*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/i*100:0}}function l(e,t,i){return e.unit?"px"===e.unit?{...h,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*i/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*i/100:0}:{...h,...e,unit:"px"}}function c(e,t,i,n,r,a=0,h=0,o=n,s=r){let d={...e},l=Math.min(a,n),w=Math.min(h,r),p=Math.min(o,n),g=Math.min(s,r);t&&(t>1?(w=(l=h?h*t:l)/t,p=o*t):(l=(w=a?a/t:w)*t,g=s/t)),d.y<0&&(d.height=Math.max(d.height+d.y,w),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,l),d.x=0);let u=n-(d.x+d.width);u<0&&(d.x=Math.min(d.x,n-l),d.width+=u);let m=r-(d.y+d.height);if(m<0&&(d.y=Math.min(d.y,r-w),d.height+=m),d.width<l&&(("sw"===i||"nw"==i)&&(d.x-=l-d.width),d.width=l),d.height<w&&(("nw"===i||"ne"==i)&&(d.y-=w-d.height),d.height=w),d.width>p&&(("sw"===i||"nw"==i)&&(d.x-=p-d.width),d.width=p),d.height>g&&(("nw"===i||"ne"==i)&&(d.y-=g-d.height),d.height=g),t){let e=d.width/d.height;if(e<t){let e=Math.max(d.width/t,w);("nw"===i||"ne"==i)&&(d.y-=e-d.height),d.height=e}else if(e>t){let e=Math.max(d.height*t,l);("sw"===i||"nw"==i)&&(d.x-=e-d.width),d.width=e}}return d}let w={capture:!0,passive:!1},p=0,g=class e extends n.PureComponent{constructor(){super(...arguments),a(this,"docMoveBound",!1),a(this,"mouseDownOnCrop",!1),a(this,"dragStarted",!1),a(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),a(this,"componentRef",(0,n.createRef)()),a(this,"mediaRef",(0,n.createRef)()),a(this,"resizeObserver"),a(this,"initChangeCalled",!1),a(this,"instanceId",`rc-${p++}`),a(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),a(this,"onCropPointerDown",e=>{let{crop:t,disabled:i}=this.props,n=this.getBox();if(!t)return;let r=l(t,n.width,n.height);if(i)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let a=e.target.dataset.ord,h=e.clientX,o=e.clientY,s=r.x,d=r.y;if(a){let t=e.clientX-n.x,i=e.clientY-n.y,l=0,c=0;"ne"===a||"e"==a?(l=t-(r.x+r.width),c=i-r.y,s=r.x,d=r.y+r.height):"se"===a||"s"===a?(l=t-(r.x+r.width),c=i-(r.y+r.height),s=r.x,d=r.y):"sw"===a||"w"==a?(l=t-r.x,c=i-(r.y+r.height),s=r.x+r.width,d=r.y):("nw"===a||"n"==a)&&(l=t-r.x,c=i-r.y,s=r.x+r.width,d=r.y+r.height),h=s+n.x+l,o=d+n.y+c}this.evData={startClientX:h,startClientY:o,startCropX:s,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:!!a,ord:a},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),a(this,"onComponentPointerDown",e=>{let{crop:t,disabled:i,locked:n,keepSelection:r,onChange:a}=this.props,h=this.getBox();if(i||n||r&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let o=e.clientX-h.x,s=e.clientY-h.y,c={unit:"px",x:o,y:s,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:o,startCropY:s,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,a(l(c,h.width,h.height),d(c,h.width,h.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),a(this,"onDocPointerMove",e=>{let t,{crop:i,disabled:n,onChange:r,onDragStart:a}=this.props,h=this.getBox();if(n||!i||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(e));let{evData:o}=this;o.clientX=e.clientX,o.clientY=e.clientY,s(i,t=o.isResize?this.resizeCrop():this.dragCrop())||r(l(t,h.width,h.height),d(t,h.width,h.height))}),a(this,"onComponentKeyDown",t=>{let{crop:i,disabled:n,onChange:r,onComplete:a}=this.props;if(n)return;let h=t.key,s=!1;if(!i)return;let c=this.getBox(),w=this.makePixelCrop(c),p=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===h?(w.x-=p,s=!0):"ArrowRight"===h?(w.x+=p,s=!0):"ArrowUp"===h?(w.y-=p,s=!0):"ArrowDown"===h&&(w.y+=p,s=!0),s){t.cancelable&&t.preventDefault(),w.x=o(w.x,0,c.width-w.width),w.y=o(w.y,0,c.height-w.height);let e=l(w,c.width,c.height),i=d(w,c.width,c.height);r(e,i),a&&a(e,i)}}),a(this,"onHandlerKeyDown",(t,i)=>{var n,r;let a,{aspect:h=0,crop:o,disabled:w,minWidth:p=0,minHeight:g=0,maxWidth:u,maxHeight:m,onChange:y,onComplete:x}=this.props,f=this.getBox();if(w||!o||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let C=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,D=c((n=l(o,f.width,f.height),r=t.key,a={...n},"ArrowLeft"===r?"nw"===i?(a.x-=C,a.y-=C,a.width+=C,a.height+=C):"w"===i?(a.x-=C,a.width+=C):"sw"===i?(a.x-=C,a.width+=C,a.height+=C):"ne"===i?(a.y+=C,a.width-=C,a.height-=C):"e"===i?a.width-=C:"se"===i&&(a.width-=C,a.height-=C):"ArrowRight"===r&&("nw"===i?(a.x+=C,a.y+=C,a.width-=C,a.height-=C):"w"===i?(a.x+=C,a.width-=C):"sw"===i?(a.x+=C,a.width-=C,a.height-=C):"ne"===i?(a.y-=C,a.width+=C,a.height+=C):"e"===i?a.width+=C:"se"===i&&(a.width+=C,a.height+=C)),"ArrowUp"===r?"nw"===i?(a.x-=C,a.y-=C,a.width+=C,a.height+=C):"n"===i?(a.y-=C,a.height+=C):"ne"===i?(a.y-=C,a.width+=C,a.height+=C):"sw"===i?(a.x+=C,a.width-=C,a.height-=C):"s"===i?a.height-=C:"se"===i&&(a.width-=C,a.height-=C):"ArrowDown"===r&&("nw"===i?(a.x+=C,a.y+=C,a.width-=C,a.height-=C):"n"===i?(a.y+=C,a.height-=C):"ne"===i?(a.y+=C,a.width-=C,a.height-=C):"sw"===i?(a.x-=C,a.width+=C,a.height+=C):"s"===i?a.height+=C:"se"===i&&(a.width+=C,a.height+=C)),a),h,i,f.width,f.height,p,g,u,m);if(!s(o,D)){let e=d(D,f.width,f.height);y(D,e),x&&x(D,e)}}),a(this,"onDocPointerDone",e=>{let{crop:t,disabled:i,onComplete:n,onDragEnd:r}=this.props,a=this.getBox();this.unbindDocMove(),!(i||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,r&&r(e),n&&n(l(t,a.width,a.height),d(t,a.width,a.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),a(this,"onDragFocus",()=>{var e;null==(e=this.componentRef.current)||e.scrollTo(0,0)})}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:i,width:n,height:r}=e.getBoundingClientRect();return{x:t,y:i,width:n,height:r}}componentDidUpdate(e){let{crop:t,onComplete:i}=this.props;if(i&&!e.crop&&t){let{width:e,height:n}=this.getBox();e&&n&&i(l(t,e,n),d(t,e,n))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,w),this.document.addEventListener("pointerup",this.onDocPointerDone,w),this.document.addEventListener("pointercancel",this.onDocPointerDone,w),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,w),this.document.removeEventListener("pointerup",this.onDocPointerDone,w),this.document.removeEventListener("pointercancel",this.onDocPointerDone,w),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,t=this.getBox(),i=this.makePixelCrop(t),n=e.clientX-e.startClientX,r=e.clientY-e.startClientY;return i.x=o(e.startCropX+n,0,t.width-i.width),i.y=o(e.startCropY+r,0,t.height-i.height),i}getPointRegion(e,t,i,n){let r,{evData:a}=this,h=a.clientX-e.x,o=a.clientY-e.y;return r=n&&t?"nw"===t||"n"===t||"ne"===t:o<a.startCropY,(i&&t?"nw"===t||"w"===t||"sw"===t:h<a.startCropX)?r?"nw":"sw":r?"ne":"se"}resolveMinDimensions(e,t,i=0,n=0){let r=Math.min(i,e.width),a=Math.min(n,e.height);return t&&(r||a)?t>1?r?[r,r/t]:[a*t,a]:a?[a*t,a]:[r,r/t]:[r,a]}resizeCrop(){let{evData:t}=this,{aspect:i=0,maxWidth:n,maxHeight:r}=this.props,a=this.getBox(),[h,s]=this.resolveMinDimensions(a,i,this.props.minWidth,this.props.minHeight),d=this.makePixelCrop(a),l=this.getPointRegion(a,t.ord,h,s),w=t.ord||l,p=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(h&&"nw"===w||"w"===w||"sw"===w)&&(p=Math.min(p,-h)),(s&&"nw"===w||"n"===w||"ne"===w)&&(g=Math.min(g,-s));let u={unit:"px",x:0,y:0,width:0,height:0};"ne"===l?(u.x=t.startCropX,u.width=p,i?u.height=u.width/i:u.height=Math.abs(g),u.y=t.startCropY-u.height):"se"===l?(u.x=t.startCropX,u.y=t.startCropY,u.width=p,i?u.height=u.width/i:u.height=g):"sw"===l?(u.x=t.startCropX+p,u.y=t.startCropY,u.width=Math.abs(p),i?u.height=u.width/i:u.height=g):"nw"===l&&(u.x=t.startCropX+p,u.width=Math.abs(p),i?(u.height=u.width/i,u.y=t.startCropY-u.height):(u.height=Math.abs(g),u.y=t.startCropY+g));let m=c(u,i,l,a.width,a.height,h,s,n,r);return i||e.xyOrds.indexOf(w)>-1?d=m:e.xOrds.indexOf(w)>-1?(d.x=m.x,d.width=m.width):e.yOrds.indexOf(w)>-1&&(d.y=m.y,d.height=m.height),d.x=o(d.x,0,a.width-d.width),d.y=o(d.y,0,a.height-d.height),d}renderCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:i,locked:r,renderSelectionAddon:a,ruleOfThirds:h,crop:o}=this.props,s=this.getCropStyle();if(o)return n.default.createElement("div",{style:s,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!i&&!r&&n.default.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},n.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),n.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),n.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),n.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),n.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),n.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),n.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),n.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),n.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),n.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),n.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),n.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),a&&n.default.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:e=>e.stopPropagation()},a(this.state)),h&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),n.default.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return l({...h,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:i,className:r,crop:a,disabled:h,locked:o,style:s,ruleOfThirds:d}=this.props,{cropIsActive:l,newCropIsBeingDrawn:c}=this.state,w=a?this.renderCropSelection():null,p=((...e)=>e.filter(e=>e&&"string"==typeof e).join(" "))("ReactCrop",r,l&&"ReactCrop--active",h&&"ReactCrop--disabled",o&&"ReactCrop--locked",c&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&i&&"ReactCrop--circular-crop",a&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",i&&"ReactCrop--no-animate");return n.default.createElement("div",{ref:this.componentRef,className:p,style:s},n.default.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),a?n.default.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},n.default.createElement("defs",null,n.default.createElement("mask",{id:`hole-${this.instanceId}`},n.default.createElement("rect",{width:"100%",height:"100%",fill:"white"}),i?n.default.createElement("ellipse",{cx:`${a.x+a.width/2}${a.unit}`,cy:`${a.y+a.height/2}${a.unit}`,rx:`${a.width/2}${a.unit}`,ry:`${a.height/2}${a.unit}`,fill:"black"}):n.default.createElement("rect",{x:`${a.x}${a.unit}`,y:`${a.y}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`,fill:"black"}))),n.default.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,w)}};a(g,"xOrds",["e","w"]),a(g,"yOrds",["n","s"]),a(g,"xyOrds",["nw","ne","se","sw"]),a(g,"nudgeStep",1),a(g,"nudgeStepMedium",10),a(g,"nudgeStepLarge",100),a(g,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}}),e.s(["default",0,()=>{let[e,n]=(0,i.useState)(null),[r,a]=(0,i.useState)(null),[h,o]=(0,i.useState)(null);return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"Trimite imaginea spre procesare"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files.length>0){let t=new FileReader;t.addEventListener("load",()=>a(t.result)),t.readAsDataURL(e.target.files[0])}}}),r&&(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{crop:h,onChange:e=>{o(e)}}),(0,t.jsx)("button",{onClick:()=>{if(!h||!r)return},children:"Trimite"})]})]})}],97277)}]);