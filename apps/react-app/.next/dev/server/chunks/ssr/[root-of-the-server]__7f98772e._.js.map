{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/valentin/Documents/stuffs/master-ase/Dezvoltarea%20aplicat%CC%A7iilor%20distribuite%20s%CC%A6i%20Cloud/proiect/apps/react-app/src/containers/smtp/index.tsx"],"sourcesContent":["\"use client\";\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\ninterface SNMPData {\n  _id: string;\n  name: string;\n  oid: string;\n  value: string;\n  timestamp: string;\n}\n\nconst SMTP = () => {\n  const [data, setData] = useState<SNMPData[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [limit, setLimit] = useState(10);\n  const [offset, setOffset] = useState(0);\n\n  useEffect(() => {\n    const path = process.env.BASE_PATH_URL_SNMP || \"http://localhost:8082\";\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`${path}/snmp`, {\n          params: { limit, offset },\n        });\n\n        setData(Array.isArray(response.data.data) ? response.data.data : []);\n      } catch (error) {\n        console.error(\"Error fetching SNMP data:\", error);\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n    const interval = setInterval(fetchData, 10000);\n    return () => clearInterval(interval);\n  }, [limit, offset]);\n\n  const handlePrevious = () => {\n    setOffset((prev) => Math.max(0, prev - limit));\n  };\n\n  const handleNext = () => {\n    setOffset((prev) => prev + limit);\n  };\n\n  return (\n    <div className=\"container mt-4\">\n      <h2 className=\"mb-4\">SNMP Data</h2>\n\n      <div className=\"row mb-3\">\n        <div className=\"col-md-3\">\n          <label htmlFor=\"limitSelect\" className=\"form-label\">\n            Items per page:\n          </label>\n          <select\n            id=\"limitSelect\"\n            className=\"form-select\"\n            value={limit}\n            onChange={(e) => {\n              setLimit(Number(e.target.value));\n              setOffset(0);\n            }}\n          >\n            <option value={5}>5</option>\n            <option value={10}>10</option>\n            <option value={20}>20</option>\n            <option value={50}>50</option>\n          </select>\n        </div>\n        <div className=\"col-md-9 d-flex align-items-end\">\n          <button\n            className=\"btn btn-primary me-2\"\n            onClick={handlePrevious}\n            disabled={offset === 0}\n          >\n            Previous\n          </button>\n          <button\n            className=\"btn btn-primary me-2\"\n            onClick={handleNext}\n            disabled={data.length < limit}\n          >\n            Next\n          </button>\n          <span className=\"text-muted\">\n            Showing {offset + 1} - {offset + data.length}\n          </span>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center\">\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n      ) : (\n        <table className=\"table table-striped table-bordered\">\n          <thead className=\"table-dark\">\n            <tr>\n              <th>Name</th>\n              <th>OID</th>\n              <th>Value</th>\n              <th>Timestamp</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data?.map((item) => (\n              <tr key={item._id}>\n                <td>{item.name}</td>\n                <td>{item.oid}</td>\n                <td>{item.value}</td>\n                <td>{new Date(item.timestamp).toLocaleString()}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n};\n\nexport default SMTP;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAaA,MAAM,OAAO;IACX,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO,QAAQ,GAAG,CAAC,kBAAkB,IAAI;QAE/C,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,EAAE;oBAC/C,QAAQ;wBAAE;wBAAO;oBAAO;gBAC1B;gBAEA,QAAQ,MAAM,OAAO,CAAC,SAAS,IAAI,CAAC,IAAI,IAAI,SAAS,IAAI,CAAC,IAAI,GAAG,EAAE;YACrE,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;gBAC3C,QAAQ,EAAE;YACZ,SAAU;gBACR,WAAW;YACb;QACF;QAEA;QACA,MAAM,WAAW,YAAY,WAAW;QACxC,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAO;KAAO;IAElB,MAAM,iBAAiB;QACrB,UAAU,CAAC,OAAS,KAAK,GAAG,CAAC,GAAG,OAAO;IACzC;IAEA,MAAM,aAAa;QACjB,UAAU,CAAC,OAAS,OAAO;IAC7B;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAO;;;;;;0BAErB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAc,WAAU;0CAAa;;;;;;0CAGpD,8OAAC;gCACC,IAAG;gCACH,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC;oCACT,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;oCAC9B,UAAU;gCACZ;;kDAEA,8OAAC;wCAAO,OAAO;kDAAG;;;;;;kDAClB,8OAAC;wCAAO,OAAO;kDAAI;;;;;;kDACnB,8OAAC;wCAAO,OAAO;kDAAI;;;;;;kDACnB,8OAAC;wCAAO,OAAO;kDAAI;;;;;;;;;;;;;;;;;;kCAGvB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,WAAU;gCACV,SAAS;gCACT,UAAU,WAAW;0CACtB;;;;;;0CAGD,8OAAC;gCACC,WAAU;gCACV,SAAS;gCACT,UAAU,KAAK,MAAM,GAAG;0CACzB;;;;;;0CAGD,8OAAC;gCAAK,WAAU;;oCAAa;oCAClB,SAAS;oCAAE;oCAAI,SAAS,KAAK,MAAM;;;;;;;;;;;;;;;;;;;YAKjD,wBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;oBAAiB,MAAK;8BACnC,cAAA,8OAAC;wBAAK,WAAU;kCAAkB;;;;;;;;;;;;;;;yEAItC,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC;;8CACC,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;;;;;;;;;;;;kCAGR,8OAAC;kCACE,MAAM,IAAI,CAAC,qBACV,8OAAC;;kDACC,8OAAC;kDAAI,KAAK,IAAI;;;;;;kDACd,8OAAC;kDAAI,KAAK,GAAG;;;;;;kDACb,8OAAC;kDAAI,KAAK,KAAK;;;;;;kDACf,8OAAC;kDAAI,IAAI,KAAK,KAAK,SAAS,EAAE,cAAc;;;;;;;+BAJrC,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;;AAY/B;uCAEe"}}]
}